<h2>Importar planilha</h2>
<app-file-upload (fileChange)="onFile($event)"></app-file-upload>

<p *ngIf="suggestedKind()" class="hint">Arquivo parece ser {{ suggestedKind() === 'FATURA' ? 'uma fatura' : 'um extrato' }}.</p>

<div class="import-actions">
  <button type="button" (click)="upload('FATURA')" [disabled]="loading() || !file()">Importar fatura</button>
  <button type="button" (click)="upload('EXTRATO')" [disabled]="loading() || !file()">Importar extrato</button>
</div>

<p *ngIf="loading()">Enviando...</p>
<p *ngIf="error()" class="error">{{ error() }}</p>

<div *ngIf="result()" class="result">
  <h3>Importacao concluida</h3>
  <ul>
    <li>Batch: {{ result()?.batchId }}</li>
    <li>Importados: {{ result()?.imported }}</li>
    <li>Duplicados: {{ result()?.duplicates }}</li>
    <li>Erros: {{ result()?.errors }}</li>
  </ul>
</div>
